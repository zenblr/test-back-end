<div class="kt-margin-l-10 kt-margin-r-10 pb-3" *ngIf="details">
    <div class="row">
        <div class="col-12 card kt-padding-15">
            <div class="row justify-content-around kt-padding-b-15">
                <div class="col" *ngIf="masterLoanId">
                    <div class="text-gray font-weight-500 kt-padding-b-5">Loan ID</div>
                    <div class=" text-color font-weight-500 kt-padding-b-5 d-block">
                        <div>
                            {{details?.customerLoan[0]?.loanUniqueId}}
                        </div>
                        <div>
                            {{details?.customerLoan[1]?.loanUniqueId}}
                        </div>

                    </div>
                </div>
                <div class="col" *ngIf="scrapId">
                    <div class="text-gray font-weight-500 kt-padding-b-5">Scrap ID</div>
                    <div class=" text-color font-weight-500 kt-padding-b-5">{{details?.scrapUniqueId}}
                    </div>
                </div>
                <div class="col">
                    <div class="text-gray font-weight-500 kt-padding-b-5">Customer ID</div>
                    <div class=" text-color font-weight-500 kt-padding-b-5">
                        {{details?.customer?.customerUniqueId}}</div>
                </div>
                <div class="col-2" *ngIf="masterLoanId">
                    <div class="text-gray font-weight-500 kt-padding-b-5">Loan Amount</div>
                    <div class=" text-color font-weight-500 kt-padding-b-5 d-block">
                        <div>
                            {{details?.customerLoan[0]?.loanAmount}}
                        </div>
                        <div>
                            {{details?.customerLoan[1]?.loanAmount}}
                        </div>
                    </div>
                </div>
                <div class="col" *ngIf="scrapId">
                    <div class="text-gray font-weight-500 kt-padding-b-5">Scrap Amount</div>
                    <div class=" text-color font-weight-500 kt-padding-b-5">{{details?.finalScrapAmountAfterMelting}}
                    </div>
                </div>
                <div class="col" *ngIf="masterLoanId">
                    <div class="text-gray font-weight-500 kt-padding-b-5">Loan Tenure</div>
                    <div class=" text-color font-weight-500 kt-padding-b-5">{{details?.tenure}} Months
                    </div>
                </div>
                <div class="col" *ngIf="masterLoanId">
                    <div class="text-gray font-weight-500 kt-padding-b-5">Start Date</div>
                    <div class=" text-color font-weight-500 kt-padding-b-5">
                        {{details?.loanStartDate | date: 'mediumDate'}}</div>
                </div>
                <div class="col" *ngIf="scrapId">
                    <div class="text-gray font-weight-500 kt-padding-b-5">Start Date</div>
                    <div class=" text-color font-weight-500 kt-padding-b-5">
                        {{details?.scrapPersonalDetail?.startDate | date: 'mediumDate'}}</div>
                </div>
                <div class="col" *ngIf="masterLoanId">
                    <div class="text-gray font-weight-500 kt-padding-b-5">End Date</div>
                    <div class=" text-color font-weight-500 kt-padding-b-5">
                        {{details?.loanEndDate | date: 'mediumDate'}}</div>
                </div>
                <div class="col" *ngIf="masterLoanId">
                    <div class="text-gray font-weight-500 kt-padding-b-5">Status</div>
                    <div class=" text-color font-weight-500 kt-padding-b-5">
                        {{details?.loanStage?.name | titlecase}}
                    </div>
                </div>
                <div class="col" *ngIf="scrapId">
                    <div class="text-gray font-weight-500 kt-padding-b-5">Status</div>
                    <div class=" text-color font-weight-500 kt-padding-b-5">
                        {{details?.scrapStage?.stageName | titlecase}}
                    </div>
                </div>
            </div>
            <div class="row justify-content-around">
                <div class="col" *ngIf="masterLoanId">
                    <div class="text-gray font-weight-500 kt-padding-b-5">Interest Rate</div>
                    <div class=" text-color font-weight-500 kt-padding-b-5 d-block">
                        <div>
                            {{details?.customerLoan[0]?.interestRate}}%
                            P.M
                        </div>
                        <div *ngIf="details?.customerLoan[1]?.interestRate">
                            {{details?.customerLoan[1]?.interestRate}}%
                            P.M
                        </div>

                    </div>
                </div>
                <div class="col">
                    <div class="text-gray font-weight-500 kt-padding-b-5">Customer Name</div>
                    <div class=" text-color font-weight-500 kt-padding-b-5">
                        {{details?.customer?.firstName | titlecase}}
                        {{details?.customer?.lastName | titlecase}}
                    </div>
                </div>
                <div class="col-2" *ngIf="masterLoanId">
                    <div class="text-gray font-weight-500 kt-padding-b-5">Account Number</div>
                    <div class=" text-color font-weight-500 kt-padding-b-5">
                        {{details?.loanBankDetail?.accountNumber}}
                    </div>
                </div>
                <div class="col" *ngIf="scrapId">
                    <div class="text-gray font-weight-500 kt-padding-b-5">Account Number</div>
                    <div class=" text-color font-weight-500 kt-padding-b-5">{{details?.scrapBankDetails?.acNumber}}
                    </div>
                </div>
                <div class="col" *ngIf="masterLoanId">
                    <div class="text-gray font-weight-500 kt-padding-b-5">IFSC Code</div>
                    <div class=" text-color font-weight-500 kt-padding-b-5">
                        {{details?.loanBankDetail?.ifscCode | uppercase}}</div>
                </div>
                <div class="col" *ngIf="scrapId">
                    <div class="text-gray font-weight-500 kt-padding-b-5">IFSC Code</div>
                    <div class=" text-color font-weight-500 kt-padding-b-5">
                        {{details?.scrapBankDetails?.ifscCode | uppercase}}</div>
                </div>
                <div class="col" *ngIf="masterLoanId">
                    <div class="text-gray font-weight-500 kt-margin-b-5">Nominee</div>
                    <div class="text-color font-weight-500">
                        {{details?.loanNomineeDetail[0].nomineeName | titlecase}}
                    </div>
                </div>
                <div class="col" *ngIf="masterLoanId">
                    <div class="text-gray font-weight-500 kt-margin-b-5">Age</div>
                    <div class="text-color font-weight-500">{{details?.loanNomineeDetail[0].nomineeAge}}
                    </div>
                </div>
                <div class="col" *ngIf="masterLoanId">
                    <div class="text-gray font-weight-500 kt-margin-b-5">Relation</div>
                    <div class="text-color font-weight-500">
                        {{details?.loanNomineeDetail[0].relationship | titlecase}}</div>
                </div>
                <div class="col" *ngIf="scrapId"></div>
                <div class="col" *ngIf="scrapId"></div>
            </div>
        </div>
    </div>

    <div class="row kt-margin-t-15" *ngIf="masterLoanId">
        <!-- loan ornaments -->
        <div class="col-12 card">
            <div class="row justify-content-center py-3">
                <div class="col-3 form-label" style="display: flex; flex-direction: column; align-items: flex-start">
                    <div>
                        <div>
                            <label for="">Principal Outstanding </label>
                        </div>
                        <div>
                            <span>{{details?.customerLoan[0]?.outstandingAmount}} </span>
                        </div>
                        <div>
                            <span
                                *ngIf="details?.customerLoan?.length > 1">{{details?.customerLoan[1]?.outstandingAmount}}</span>
                        </div>
                    </div>
                </div>
                <div class="col-3 my-auto d-flex align-item-center">
                    <kt-button [value]="'View Part Payment Logs'" [type]="'button'" (click)="viewPartPaymnetsLogs()">
                    </kt-button>
                </div>
                <div class="col-3 my-auto d-flex align-item-center">
                    <kt-button [value]="'View Interest EMI Logs'" [notTitleCase]="true" [type]="'button'"
                        (click)="viewEmiLogs()"></kt-button>

                </div>
            </div>
            <!-- <kt-button [value]="'View Part Payment EMI'" [type]="'button'"></kt-button> -->
        </div>
    </div>

    <div class="row kt-margin-t-15">
        <!-- loan ornaments -->
        <div class="col-12 card kt-padding-15" *ngIf="masterLoanId">
            <label class="font-weight-bold text-color kt-margin-b-10 kt-margin-t-15">
                R.P.G - {{details?.customerLoan[0]?.scheme.schemeName}} : {{details?.customerLoan[0]?.rpg}} <br>
                <span class="kt-padding-l-45">
                    {{details?.customerLoan[1]?.scheme.schemeName}} : {{details?.customerLoan[1]?.rpg}}
                </span>
            </label>
            <label class="font-weight-bold text-color kt-margin-b-25 ">Ornaments - Total
                {{details?.loanOrnamentsDetail?.length}} Ornaments</label>
            <mat-tab-group style="min-height: 300px;">
                <mat-tab label="Ornaments {{idx + 1}}"
                    *ngFor="let ornaments of details?.loanOrnamentsDetail;index as idx">
                    <div class="row">
                        <div class="col-3">
                            <img (click)="preview(ornaments.ornamentImageData?.URL,idx)"
                                [src]="ornaments?.ornamentImageData?.URL" class="ornaments" alt="">
                        </div>
                        <div class="col-9">
                            <div class="row kt-margin-t-15">
                                <div class="col-3">
                                    <div class="text-gray font-weight-500 kt-margin-b-5">Ornament Type</div>
                                    <div class="text-color font-weight-500">
                                        {{ornaments?.ornamentType?.name | titlecase}}</div>
                                </div>
                                <div class="col-3">
                                    <div class="text-gray font-weight-500 kt-margin-b-5">Quantity</div>
                                    <div class="text-color font-weight-500">{{ornaments.quantity}} Pcs</div>
                                </div>
                                <div class="col-3">
                                    <div class="text-gray font-weight-500 kt-margin-b-5">Gross Wt.</div>
                                    <div class="text-color font-weight-500">{{ornaments.grossWeight}} Gram</div>
                                </div>
                                <div class="col-3">
                                    <div class="text-gray font-weight-500 kt-margin-b-5">Net Wt.</div>
                                    <div class="text-color font-weight-500">{{ornaments.netWeight}} Gram</div>
                                </div>
                            </div>
                            <div class="row kt-margin-t-25">
                                <div class="col-3">
                                    <div class="text-gray font-weight-500 kt-margin-b-5">Deduction Wt.</div>
                                    <div class="text-color font-weight-500">{{ornaments.deductionWeight}} Gram</div>
                                </div>
                                <div class="col-3">
                                    <div class="text-gray font-weight-500 kt-margin-b-5">WM 00 Wt.</div>
                                    <div *ngIf="ornaments.weightMachineZeroWeight"
                                        class="text-primary font-weight-500 kt-pointer"
                                        (click)="preview(ornaments.weightMachineZeroWeight,idx)">View Image</div>
                                </div>
                                <div class="col-3">
                                    <div class="text-gray font-weight-500 kt-margin-b-5">With Ornaments</div>
                                    <div *ngIf="ornaments.withOrnamentWeight"
                                        class="text-primary font-weight-500 kt-pointer"
                                        (click)="preview(ornaments.withOrnamentWeight,idx)">View Image</div>
                                </div>
                                <div class="col-3">
                                    <div class="text-gray font-weight-500 kt-margin-b-5">Stone Touch</div>
                                    <div *ngIf="ornaments.stoneTouch" class="text-primary font-weight-500 kt-pointer"
                                        (click)="preview(ornaments.stoneTouch,idx)">View Image</div>
                                </div>
                            </div>
                            <div class="row kt-margin-t-25">
                                <div class="col-3">
                                    <div class="text-gray font-weight-500 kt-margin-b-5">Acid Test</div>
                                    <div *ngIf="ornaments.acidTest" class="text-primary font-weight-500 kt-pointer"
                                        (click)="preview(ornaments.acidTest,idx)">View Image</div>
                                </div>
                                <div class="col-3">
                                    <div class="text-gray font-weight-500 kt-margin-b-5">Purity Test</div>
                                    <div *ngIf="ornaments.purityTest.length"
                                        class="text-primary font-weight-500 kt-pointer"
                                        (click)="preview(ornaments.purityTest[0],idx)">View Image</div>
                                </div>
                                <div class="col-3">
                                    <div class="text-gray font-weight-500 kt-margin-b-5">LTV %</div>
                                    <div class="text-color font-weight-500">{{ornaments.ltvPercent}}%</div>
                                </div>
                                <div class="col-3">
                                    <div class="text-gray font-weight-500 kt-margin-b-5">Karat</div>
                                    <div class="text-color font-weight-500">{{ornaments.karat + ' K'}}</div>
                                </div>
                                <div class="col-3">
                                    <div class="text-gray font-weight-500 kt-margin-b-5">Loan Amount </div>
                                    <div class="text-color font-weight-500">{{ornaments.loanAmount}}</div>
                                </div>
                            </div>
                            <!-- <div class="row kt-margin-t-25">
                                <div class="col-3">
                                    <div class="text-gray font-weight-500 kt-margin-b-5">Loan Amount </div>
                                    <div class="text-color font-weight-500">{{ornaments.loanAmount}}</div>
                                </div>
                            </div> -->
                        </div>
                    </div>
                </mat-tab>
            </mat-tab-group>
        </div>
        <!-- scrap ornaments -->
        <div class="col-12 card kt-padding-15" *ngIf="scrapId">
            <label class="font-weight-bold text-color kt-margin-b-25 kt-margin-t-25">Ornaments - Total
                {{details?.scrapOrnamentsDetail?.length}} Ornaments</label>
            <mat-tab-group style="min-height: 200px;">
                <mat-tab label="Ornaments {{idx + 1}}"
                    *ngFor="let ornaments of details?.scrapOrnamentsDetail;index as idx">
                    <div class="row">
                        <div class="col-12">
                            <div class="row kt-margin-t-15">
                                <div class="col-3">
                                    <div class="text-gray font-weight-500 kt-margin-b-5">Ornament Type</div>
                                    <div class="text-color font-weight-500">
                                        {{ornaments?.ornamentType?.name | titlecase}}</div>
                                </div>
                                <div class="col-3">
                                    <div class="text-gray font-weight-500 kt-margin-b-5">Quantity</div>
                                    <div class="text-color font-weight-500">{{ornaments?.quantity}} Pcs</div>
                                </div>
                                <div class="col-3">
                                    <div class="text-gray font-weight-500 kt-margin-b-5">Gross Wt.</div>
                                    <div class="text-color font-weight-500">{{ornaments?.grossWeight}} Gram</div>
                                </div>
                                <div class="col-3">
                                    <div class="text-gray font-weight-500 kt-margin-b-5">Net Wt.</div>
                                    <div class="text-color font-weight-500">{{ornaments?.netWeight}} Gram</div>
                                </div>
                            </div>
                            <div class="row kt-margin-t-25">
                                <div class="col-3">
                                    <div class="text-gray font-weight-500 kt-margin-b-5">Deduction Wt.</div>
                                    <div class="text-color font-weight-500">{{ornaments?.deductionWeight}} Gram</div>
                                </div>
                                <div class="col-3">
                                    <div class="text-gray font-weight-500 kt-margin-b-5">Ornament Image with Wt.</div>
                                    <div *ngIf="ornaments?.ornamentImageWithWeight"
                                        class="text-primary font-weight-500 kt-pointer"
                                        (click)="preview(ornaments?.ornamentImageWithWeight,idx)">View Image</div>
                                </div>
                                <div class="col-3">
                                    <div class="text-gray font-weight-500 kt-margin-b-5">Ornament Image(with XRF machine
                                        purity reading)</div>
                                    <div *ngIf="ornaments?.ornamentImageWithXrfMachineReading"
                                        class="text-primary font-weight-500 kt-pointer"
                                        (click)="preview(ornaments?.ornamentImageWithXrfMachineReading,idx)">View Image
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="text-gray font-weight-500 kt-margin-b-5">Purity Reading(XRF machine) %
                                    </div>
                                    <div class="text-color font-weight-500">{{ornaments?.approxPurityReading}} %</div>
                                </div>
                            </div>
                            <!-- <div class="row kt-margin-t-25">
                                <div class="col-3">
                                    <div class="text-gray font-weight-500 kt-margin-b-5">LTV Amount</div>
                                    <div class="text-color font-weight-500">{{ornaments?.ltvAmount}}</div>
                                </div>
                            </div> -->
                        </div>
                    </div>
                </mat-tab>
            </mat-tab-group>
        </div>
    </div>

    <div class="row kt-margin-t-15">
        <!-- loan packets -->
        <div class="col-12 card kt-padding-15" *ngIf="masterLoanId">
            <label class="font-weight-bold text-color kt-margin-b-25 kt-margin-t-25">Packets ID - Total
                {{details?.loanPacketDetails[0].packets.length}} Packets</label>
            <div style="min-height: 300px;" *ngFor="let packets of details?.loanPacketDetails;index as idx">
                <div class="row justify-content-center kt-padding-t-15">
                    <div class="col-4">
                        <div class="table-div">
                            <table class="table outer-border">
                                <thead>
                                    <th class="transparent">Packet</th>
                                    <th class="transparent">Ornaments</th>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let packet of packets.packets;index as idx">
                                        <ng-container>
                                            <td class="text-color ">
                                                <label class="m-0">{{packet.packetUniqueId | uppercase}}</label>

                                            </td>
                                            <td class="text-color ">
                                                <span
                                                    *ngFor="let ornament of packet?.customerLoanOrnamentsDetails;index as idx">
                                                    {{ornament?.ornamentType?.name | uppercase}}
                                                    <span
                                                        *ngIf="idx != packet.customerLoanOrnamentsDetails.length - 1">,</span>
                                                </span>

                                            </td>
                                        </ng-container>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-4">
                        <img class="packets" (click)="viewPackets(packets?.emptyPacketWithNoOrnamentImage)"
                            [src]="packets?.emptyPacketWithNoOrnamentImage">
                        <label class="text-center w-100 font-weight-500 pacekts-label text-gray">Empty Packets with
                            No
                            Ornaments</label>
                    </div>
                    <div class="col-4">
                        <img class="packets" (click)="viewPackets(packets?.sealingPacketWithWeightImage)"
                            [src]="packets?.sealingPacketWithWeightImage">
                        <label class="text-center w-100 font-weight-500 pacekts-label text-gray">Packets with All
                            Ornaments</label>
                    </div>
                    <div class="col-4">
                        <img class="packets" (click)="viewPackets(packets?.sealingPacketWithCustomerImage)"
                            [src]="packets?.sealingPacketWithCustomerImage">
                        <label class="text-center w-100 font-weight-500 pacekts-label text-gray">Packets with
                            Sealing</label>

                    </div>
                </div>

            </div>
        </div>
        <!-- scrap packets -->
        <div class="col-12 card kt-padding-15" *ngIf="scrapId">
            <label class="font-weight-bold text-color kt-margin-b-25 kt-margin-t-25">Packet Details</label>
            <div style="min-height: 300px;" *ngFor="let packets of details?.scrapPacketDetails;index as idx">
                <div class="row justify-content-center kt-padding-t-15">
                    <div class="col-4">
                        <div class="table-div">
                            <table class="table outer-border">
                                <thead>
                                    <th class="transparent text-center">Packet</th>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let packet of packets?.scrapPackets;index as idx">
                                        <ng-container>
                                            <td class="text-color text-center">
                                                <label class="m-0">{{packet?.packetUniqueId | uppercase}}</label>
                                            </td>
                                        </ng-container>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-4">
                        <img class="packets" (click)="viewPackets(packets?.emptyPacketWithNoOrnamentImage)"
                            [src]="packets?.emptyPacketWithNoOrnamentImage">
                        <label class="text-center w-100 font-weight-500 pacekts-label text-gray">Empty Packets with All
                            Refining Ornaments</label>
                    </div>
                    <div class="col-4">
                        <img class="packets" (click)="viewPackets(packets?.sealingPacketWithWeightImage)"
                            [src]="packets?.sealingPacketWithWeightImage">
                        <label class="text-center w-100 font-weight-500 pacekts-label text-gray">Packets with All
                            Ornaments</label>
                    </div>
                    <div class="col-4">
                        <img class="packets" (click)="viewPackets(packets?.sealingPacketWithCustomerImage)"
                            [src]="packets?.sealingPacketWithCustomerImage">
                        <label class="text-center w-100 font-weight-500 pacekts-label text-gray">Packets with
                            Sealing</label>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row kt-margin-t-15">
        <div class="col-12 card kt-padding-15">
            <label class="font-weight-bold text-color kt-margin-b-25 kt-margin-t-25">Documents</label>
            <div class="row justify-content-center kt-padding-t-15">

            </div>
            <!-- loan documents -->
            <div class="row" *ngIf="masterLoanId">
                <div class="col">
                    <div class="pdf" (click)="preview(details.customerLoanDocument.loanAgreementCopyImage[0])">
                        <iframe [src]="details.customerLoanDocument.loanAgreementCopyImage[0] | safe : 'resourceUrl'"
                            scrolling="no" *ngIf="pdf?.loanAgreementCopyImage" height="255"></iframe>
                    </div>
                    <img *ngIf="!pdf?.loanAgreementCopyImage" class="packets"
                        (click)="viewPackets(details.customerLoanDocument.loanAgreementCopyImage[0])"
                        [src]="details.customerLoanDocument.loanAgreementCopyImage[0]">
                    <label class="text-center w-100 font-weight-500 pacekts-label text-gray">Loan Agreement Copy</label>
                </div>
                <div class="col" *ngFor="let pawncopy of details.customerLoanDocument.pawnCopyImage; index as i">
                    <div class="pdf" (click)="preview(pawncopy)">
                        <iframe [src]="pawncopy | safe : 'resourceUrl'" scrolling="no" *ngIf="isPdf(pawncopy)"
                            height="255"></iframe>
                    </div>
                    <img *ngIf="!isPdf(pawncopy)" class="packets" [src]="pawncopy" (click)="viewPackets(pawncopy)">
                    <label class="text-center w-100 font-weight-500 pacekts-label text-gray">Pawn Copy {{i+1}}</label>
                </div>
                <div class="col">
                    <div class="pdf" (click)="preview(details.customerLoanDocument.schemeConfirmationCopyImage[0])">
                        <iframe
                            [src]="details.customerLoanDocument.schemeConfirmationCopyImage[0] | safe : 'resourceUrl'"
                            scrolling="no" *ngIf="pdf?.schemeConfirmationCopyImage" height="255"></iframe>
                    </div>
                    <img *ngIf="!pdf?.schemeConfirmationCopyImage" class="packets"
                        (click)="viewPackets(details.customerLoanDocument.schemeConfirmationCopyImage[0])"
                        [src]="details.customerLoanDocument.schemeConfirmationCopyImage[0]">
                    <label class="text-center w-100 font-weight-500 pacekts-label text-gray">Scheme Confirmation Copy
                    </label>
                </div>
            </div>
            <!-- scrap documents -->
            <div class="row" *ngIf="scrapId">
                <div class="col-4">
                    <div class="img-container" *ngIf="!details?.scrapDocument?.purchaseVoucherImage">
                        <img src="assets/media/icons/image-placeholder.png" class="placeholder-image">
                    </div>
                    <div *ngIf="details?.scrapDocument?.purchaseVoucherImage">
                        <div class="pdf" (click)="preview(details?.scrapDocument?.purchaseVoucherImage[0])">
                            <iframe [src]="details?.scrapDocument?.purchaseVoucherImage[0] | safe : 'resourceUrl'"
                                scrolling="no" *ngIf="pdf?.purchaseVoucherImage" height="255"></iframe>
                        </div>
                        <img *ngIf="!pdf?.purchaseVoucherImage" class="packets"
                            (click)="viewPackets(details?.scrapDocument?.purchaseVoucherImage[0])"
                            [src]="details?.scrapDocument?.purchaseVoucherImage[0]">
                    </div>
                    <label class="text-center w-100 font-weight-500 pacekts-label text-gray">Purchase Voucher</label>
                </div>
                <div class="col-4">
                    <div class="img-container" *ngIf="!details?.scrapDocument?.purchaseInvoiceImage">
                        <img src="assets/media/icons/image-placeholder.png" class="placeholder-image">
                    </div>
                    <div *ngIf="details?.scrapDocument?.purchaseInvoiceImage">
                        <div class="pdf" (click)="preview(details?.scrapDocument?.purchaseInvoiceImage[0])">
                            <iframe [src]="details?.scrapDocument?.purchaseInvoiceImage[0] | safe : 'resourceUrl'"
                                scrolling="no" *ngIf="pdf?.purchaseInvoiceImage" height="255"></iframe>
                        </div>
                        <img *ngIf="!pdf?.purchaseInvoiceImage" class="packets"
                            (click)="viewPackets(details?.scrapDocument?.purchaseInvoiceImage[0])"
                            [src]="details?.scrapDocument?.purchaseInvoiceImage[0]">
                    </div>
                    <label class="text-center w-100 font-weight-500 pacekts-label text-gray">Original Purchase
                        Invoice</label>
                </div>
                <div class="col-4">
                    <div class="img-container" *ngIf="!details?.scrapDocument?.saleInvoiceImage">
                        <img src="assets/media/icons/image-placeholder.png" class="placeholder-image">
                    </div>
                    <div *ngIf="details?.scrapDocument?.saleInvoiceImage">
                        <div class="pdf" (click)="preview(details?.scrapDocument?.saleInvoiceImage[0])">
                            <iframe [src]="details?.scrapDocument?.saleInvoiceImage[0] | safe : 'resourceUrl'"
                                scrolling="no" *ngIf="pdf?.saleInvoiceImage" height="255"></iframe>
                        </div>
                        <img *ngIf="!pdf?.saleInvoiceImage" class="packets"
                            (click)="viewPackets(details?.scrapDocument?.saleInvoiceImage[0])"
                            [src]="details?.scrapDocument?.saleInvoiceImage[0]">
                    </div>
                    <label class="text-center w-100 font-weight-500 pacekts-label text-gray">Sale Invoice</label>
                </div>
            </div>
        </div>
    </div>

    <div class="row kt-margin-t-15">
        <div class="col-12 card kt-padding-15" *ngIf="masterLoanId">
            <label class="font-weight-bold text-color kt-margin-b-25 kt-margin-t-25">Disbursement</label>
            <div class="row">
                <kt-disburse [disable]="true" [loanDetials]="details" [masterAndLoanIds]="masterAndLoanIds"
                    [disbursed]="true">
                </kt-disburse>
            </div>
        </div>
        <div class="col-12 card kt-padding-15" *ngIf="scrapId">
            <label class="font-weight-bold text-color kt-margin-b-25 kt-margin-t-25">Disbursement</label>
            <div class="row">
                <kt-disburse [disable]="true" [scrapDetails]="details" [scrapIds]="scrapIds" [disbursed]="true">
                </kt-disburse>
            </div>
        </div>
    </div>
</div>