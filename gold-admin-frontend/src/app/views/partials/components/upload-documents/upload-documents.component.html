<div class="row justify-content-around" [formGroup]="documentsForm">
    <div class="col-11">
        <div class="row kt-padding-t-15" *ngIf="showLoanTransferFlag">
            <div class="col-2 form-label ">
                <label class="kt-padding-l-10">Outstanding Loan Amount</label>
            </div>
            <div class="col">
                <input type="text" formControlName="outstandingLoanAmount" class="form-control "
                    [class.isError]="controls.outstandingLoanAmount.touched && controls.outstandingLoanAmount.invalid"
                    placeholder="Outstanding">
                <mat-error *ngIf="controls.outstandingLoanAmount.touched && controls.outstandingLoanAmount.invalid">
                    Field
                    Required</mat-error>
            </div>
        </div>
        <div class="row kt-padding-t-15">

        </div>
        <div class="row kt-padding-t-15 kt-padding-b-20 justify-content-around">
            <div class="col form-label" *ngIf="showLoanFlag">
                <label class="kt-padding-l-10">Loan Agreement Copy</label>
            </div>
            <div class="col form-label" *ngIf="showLoanTransferFlag || showLoanFlag">
                <label class="kt-padding-l-10 kt-padding-r-25">Pawn Ticket/Copy of Pledge</label>
                <kt-button [value]="'print'" [type]="'button'" (click)="ExportAsPdf()"></kt-button>
            </div>
            <div class="col form-label" *ngIf="showLoanFlag">
                <label class="kt-padding-l-10">Scheme Confirmation Copy</label>
            </div>
            <div class="col form-label" *ngIf="showLoanTransferFlag">
                <label class="kt-padding-l-10">Signed Cheque Copy</label>
            </div>
            <div class="col form-label" *ngIf="showLoanTransferFlag">
                <label class="kt-padding-l-10">Declaration Copy</label>
            </div>
            <div class="col form-label" *ngIf="showScrapAcknowledgementFlag">
                <label class="kt-padding-l-10">Processing Charges</label>
            </div>
            <div class="col form-label" *ngIf="showScrapAcknowledgementFlag">
                <label class="kt-padding-l-10">Standard Deduction %</label>
            </div>
            <div class="col form-label" *ngIf="showScrapAcknowledgementFlag">
                <label class="kt-padding-l-10">Customer confirmation Status</label>
            </div>
            <div class="col form-label" *ngIf="showScrapAcknowledgementFlag && showCustomerConfirmationFlag">
                <label class="kt-padding-l-10">Customer Confirmation for melting ornament(Jewellery) </label>
            </div>
        </div>
        <div class="row justify-content-between" *ngIf="isEdit">
            <div class="col" *ngIf="showLoanFlag">
                <div class="input-group mb-3 w-80"
                    [class.isError]="controls.loanAgreementCopy.touched && controls.loanAgreementCopy.invalid">
                    <input type="text" class="form-control" placeholder="Select File" aria-label="Recipient's username"
                        aria-describedby="basic-addon2" readonly formControlName="loanAgreementImageName" />
                    <div class="input-group-append">
                        <span class="input-group-text bg kt-pointer font-weight" id="basic-addon2"
                            (click)="loanAgreementCopy.click()">Attach</span>
                    </div>
                    <input type="file" class="d-none" #loanAgreementCopy
                        (change)="fileUpload($event,'loanAgreementCopy')">


                </div>
                <mat-error *ngIf="controls.loanAgreementCopy.touched && controls.loanAgreementCopy.invalid">Field
                    Required</mat-error>
            </div>
            <div class="col" *ngIf="showLoanTransferFlag || showLoanFlag">
                <div class="input-group mb-3 w-80"
                    [class.isError]="controls.pawnCopy.touched && controls.pawnCopy.invalid">
                    <input type="text" class="form-control" placeholder="Select File" aria-label="Recipient's username"
                        aria-describedby="basic-addon2" readonly formControlName="pawnCopyImageName" />
                    <div class="input-group-append">
                        <span class="input-group-text bg kt-pointer font-weight" id="basic-addon2"
                            (click)="pawnCopy.click()">Attach</span>
                    </div>
                    <input type="file" class="d-none" #pawnCopy (change)="fileUpload($event,'pawnCopy')">

                </div>
                <mat-error *ngIf="controls.pawnCopy.touched && controls.pawnCopy.invalid">Field Required</mat-error>
            </div>
            <div class="col" *ngIf="showLoanFlag">
                <div class="input-group mb-3 w-80"
                    [class.isError]="controls.schemeConfirmationCopy.touched && controls.schemeConfirmationCopy.invalid">
                    <input type="text" class="form-control" placeholder="Select File" aria-label="Recipient's username"
                        aria-describedby="basic-addon2" readonly formControlName="schemeConfirmationCopyImageName" />
                    <div class="input-group-append">
                        <span class="input-group-text bg kt-pointer font-weight" id="basic-addon2"
                            (click)="schemeConfirmationCopy.click()">Attach</span>
                    </div>
                    <input type="file" class="d-none" #schemeConfirmationCopy
                        (change)="fileUpload($event,'schemeConfirmationCopy')">

                </div>
                <mat-error *ngIf="controls.schemeConfirmationCopy.touched && controls.schemeConfirmationCopy.invalid">
                    Field
                    Required</mat-error>

            </div>
            <div class="col" *ngIf="showLoanTransferFlag">
                <div class="input-group mb-3 w-80"
                    [class.isError]="controls.signedCheque.touched && controls.signedCheque.invalid">
                    <input type="text" class="form-control" placeholder="Select File" aria-label="Recipient's username"
                        aria-describedby="basic-addon2" readonly formControlName="signedChequeImageName" />
                    <div class="input-group-append">
                        <span class="input-group-text bg kt-pointer font-weight" id="basic-addon2"
                            (click)="signedCheque.click()">Attach</span>
                    </div>
                    <input type="file" class="d-none" #signedCheque (change)="fileUpload($event,'signedCheque')">

                </div>
                <mat-error *ngIf="controls.signedCheque.touched && controls.signedCheque.invalid">Field Required
                </mat-error>
            </div>
            <div class="col" *ngIf="showLoanTransferFlag">
                <div class="input-group mb-3 w-80"
                    [class.isError]="controls.declaration.touched && controls.declaration.invalid">
                    <input type="text" class="form-control" placeholder="Select File" aria-label="Recipient's username"
                        aria-describedby="basic-addon2" readonly formControlName="declarationCopyImageName" />
                    <div class="input-group-append">
                        <span class="input-group-text bg kt-pointer font-weight" id="basic-addon2"
                            (click)="declaration.click()">Attach</span>
                    </div>
                    <input type="file" class="d-none" #declaration (change)="fileUpload($event,'declaration')">
                </div>
                <mat-error *ngIf="controls.declaration.touched && controls.declaration.invalid">Field Required
                </mat-error>
            </div>
            <div class="col" *ngIf="showScrapAcknowledgementFlag">
                <input type="text" formControlName="processingCharges" class="form-control "
                    [class.isError]="controls.processingCharges.touched && controls.processingCharges.invalid"
                    placeholder="Processing Charges" readonly>
                <mat-error *ngIf="controls.processingCharges.touched && controls.processingCharges.invalid">
                    Field Required</mat-error>
            </div>
            <div class="col" *ngIf="showScrapAcknowledgementFlag">
                <select class="form-control" formControlName="standardDeduction"
                    [class.isError]="controls.standardDeduction.touched && controls.standardDeduction.invalid">
                    <option value="" [disabled]="true" [selected]="true">Select Standard Deduction</option>
                    <option [value]="sd.standardDeduction" *ngFor="let sd of standardDeductionArr">
                        {{sd.standardDeduction}}
                    </option>
                </select>
                <mat-error *ngIf="controls.standardDeduction.touched && controls.standardDeduction.invalid">
                    <span *ngIf="controls.standardDeduction.errors?.required">Field Required</span>
                </mat-error>
            </div>
            <div class="col" *ngIf="showScrapAcknowledgementFlag">
                <select class="form-control" formControlName="customerConfirmationStatus"
                    [class.isError]="controls.customerConfirmationStatus.touched && controls.customerConfirmationStatus.invalid">
                    <option value="" [disabled]="true" [selected]="true">Select Customer confirmation Status</option>
                    <option value="confirmed">Confirmed</option>
                    <option value="incomplete">Incomplete</option>
                </select>
                <mat-error
                    *ngIf="controls.customerConfirmationStatus.touched && controls.customerConfirmationStatus.invalid">
                    <span *ngIf="controls.customerConfirmationStatus.errors?.required">Field
                        Required</span>
                </mat-error>
            </div>
            <div class="col" *ngIf="showScrapAcknowledgementFlag && showCustomerConfirmationFlag">
                <div class="input-group mb-3 w-80"
                    [class.isError]="controls.customerConfirmation.touched && controls.customerConfirmation.invalid">
                    <input type="text" class="form-control" placeholder="Select File" aria-label="Recipient's username"
                        aria-describedby="basic-addon2" readonly formControlName="customerConfirmationImageName" />
                    <div class="input-group-append">
                        <span class="input-group-text bg kt-pointer font-weight" id="basic-addon2"
                            (click)="customerConfirmation.click()">Attach</span>
                    </div>
                    <input type="file" class="d-none" #customerConfirmation
                        (change)="fileUpload($event,'customerConfirmation')">
                </div>
                <mat-error *ngIf="controls.customerConfirmation.touched && controls.customerConfirmation.invalid">Field
                    Required
                </mat-error>
            </div>
        </div>
        <div class="row">
            <div class="col" *ngIf="showLoanFlag">
                <div class="row">
                    <div class="col-10 ">
                        <div class="img-container width" *ngIf="!controls?.loanAgreementCopy?.value">
                            <img src="../../../../../../../assets/media/icons/image-placeholder.png"
                                class="placeholder-image">
                        </div>
                        <!-- <div class="position-relative edit-width"
                            *ngIf="isEdit && controls?.loanAgreementCopyImage?.value">
                            <img src="../../../../../assets/media/icons/edit.svg" alt="" class="kt-pointer edit-icon"
                                (click)="editImages('loanAgreementCopy');">
                        </div> -->

                        <div class="" *ngIf="controls?.loanAgreementCopyImage?.value">
                            <div class="d-inline-block img-container width kt-margin-r-15 position-relative"
                                (click)="preview(controls?.loanAgreementCopyImage?.value)">
                                <img class="fetched-image" [src]="controls?.loanAgreementCopyImage?.value"
                                    *ngIf="!pdf.loanAgreementCopy">

                                <img class="edit-icon" src="../../../../../assets/media/icons/edit.svg"
                                    *ngIf="pdf.loanAgreementCopy" (click)="preview(controls?.loanAgreementCopy.value)">
                                <iframe [src]="controls?.loanAgreementCopyImage.value | safe : 'resourceUrl'"
                                    height="250" width="290" scrolling="no" *ngIf="pdf.loanAgreementCopy"></iframe>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <div class="col" *ngIf="showLoanTransferFlag || showLoanFlag">
                <div class="row">
                    <div class="col-10">
                        <div class="img-container width" *ngIf="!controls?.pawnCopyImage?.value">
                            <img src="../../../../../../../assets/media/icons/image-placeholder.png"
                                class="placeholder-image">
                        </div>

                        <!-- <div class="position-relative edit-width">
                            <img src="../../../../../assets/media/icons/edit.svg" alt="" class="kt-pointer edit-icon"
                                *ngIf="isEdit && controls?.pawnCopyImage?.value"
                                (click)="editImages('pawnCopy');">
                        </div> -->


                        <div class="" *ngIf="controls?.pawnCopyImage?.value">
                            <div class="d-inline-block img-container width kt-margin-r-15 position-relative"
                                (click)="preview(controls?.pawnCopyImage?.value)">
                                <img class="fetched-image" [src]="controls?.pawnCopyImage?.value" *ngIf="!pdf.pawnCopy">

                                <img class="edit-icon" src="../../../../../assets/media/icons/edit.svg"
                                    (click)="preview(controls?.pawnCopy.value)"
                                    *ngIf="isEdit && controls?.pawnCopyImage?.value">
                                <iframe [src]="controls?.pawnCopyImage?.value | safe : 'resourceUrl'" height="250"
                                    width="290" scrolling="no" *ngIf="pdf.pawnCopy" class="position-relative"></iframe>
                                <!-- <kt-pdf-viewer [page]="1" [showAll]="false" *ngIf="pdf.pawnCopy"
                                    [pdfSrc]="controls?.pawnCopyImage.value"
                                    (click)="preview(controls?.pawnCopyImage.value)"></kt-pdf-viewer> -->
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <div class="col" *ngIf="showLoanFlag">
                <div class="row">
                    <div class="col-10 position-relative">
                        <div class="img-container width" *ngIf="!controls?.schemeConfirmationCopyImage?.value">
                            <img src="../../../../../../../assets/media/icons/image-placeholder.png"
                                class="placeholder-image">
                        </div>

                        <!-- <div class="position-relative edit-width">
                            <img src="../../../../../assets/media/icons/edit.svg" alt="" class="kt-pointer edit-icon"
                                *ngIf="isEdit && controls?.schemeConfirmationCopyImage?.value"
                                (click)="editImages('schemeConfirmationCopy');">
                        </div> -->

                        <div class="" *ngIf="controls?.schemeConfirmationCopyImage?.value">
                            <div class="d-inline-block img-container width kt-margin-r-15 position-relative"
                                (click)="preview(controls?.schemeConfirmationCopyImage?.value)">
                                <img class="fetched-image" [src]="controls?.schemeConfirmationCopyImage?.value"
                                    *ngIf="!pdf.schemeConfirmationCopy">
                                <img src="../../../../../assets/media/icons/edit.svg" alt=""
                                    class="kt-pointer edit-icon"
                                    *ngIf="isEdit && controls?.schemeConfirmationCopyImage?.value"
                                    (click)="editImages('schemeConfirmationCopy');">
                                <iframe *ngIf="pdf.schemeConfirmationCopy"
                                    [src]="controls?.schemeConfirmationCopyImage?.value | safe : 'resourceUrl'"
                                    height="250" width="290" scrolling="no"></iframe>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <div class="col" *ngIf="showLoanTransferFlag">
                <div class="row">
                    <div class="col-10 position-relative">
                        <div class="img-container width" *ngIf="!controls?.signedChequeImage?.value">
                            <img src="../../../../../../../assets/media/icons/image-placeholder.png"
                                class="placeholder-image">
                        </div>

                        <!-- <div class="position-relative edit-width">
                            <img src="../../../../../assets/media/icons/edit.svg" alt=""
                                *ngIf="isEdit && controls?.signedChequeImage?.value"
                                class="kt-pointer edit-icon" (click)="editImages('signedCheque');">
                        </div> -->

                        <div class="" *ngIf="controls?.signedChequeImage?.value">
                            <div class="d-inline-block img-container width kt-margin-r-15 position-relative"
                                (click)="preview(controls?.signedChequeImage?.value)">
                                <img class="fetched-image" [src]="controls?.signedChequeImage?.value"
                                    *ngIf="!pdf.signedCheque">
                                <img src="../../../../../assets/media/icons/edit.svg" alt=""
                                    *ngIf="isEdit && controls?.signedChequeImage?.value" class="kt-pointer edit-icon"
                                    (click)="editImages('signedCheque');">
                                <iframe *ngIf="pdf.signedCheque"
                                    [src]="controls?.signedChequeImage?.value | safe : 'resourceUrl'" height="250"
                                    width="290" scrolling="no"></iframe>
                                <!-- <kt-pdf-viewer [page]="1" [showAll]="false" *ngIf="pdf.signedCheque"
                                    [pdfSrc]="controls?.signedChequeImage.value"
                                    (click)="preview(controls?.signedChequeImage.value)"></kt-pdf-viewer> -->
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <div class="col" *ngIf="showLoanTransferFlag">
                <div class="row">
                    <div class="col-10 position-relative">
                        <div class="img-container width" *ngIf="!controls?.declaration?.value">
                            <img src="../../../../../../../assets/media/icons/image-placeholder.png"
                                class="placeholder-image">
                        </div>

                        <!-- <div class="position-relative edit-width">
                            <img src="../../../../../assets/media/icons/edit.svg" alt="" class="kt-pointer edit-icon"
                                *ngIf="isEdit && controls?.declarationCopyImage?.value"
                                (click)="editImages('declaration');">
                        </div> -->


                        <div class="" *ngIf="controls?.declarationCopyImage?.value">
                            <div class="d-inline-block img-container width kt-margin-r-15 position-relative"
                                (click)="preview(controls?.declarationCopyImage?.value)">
                                <img class="fetched-image" [src]="controls?.declarationCopyImage?.value"
                                    *ngIf="!pdf.declaration">
                                <img src="../../../../../assets/media/icons/edit.svg" alt=""
                                    class="kt-pointer edit-icon" *ngIf="isEdit && controls?.declarationCopyImage?.value"
                                    (click)="editImages('declaration');">
                                <iframe *ngIf="pdf.declaration"
                                    [src]="controls?.declarationCopyImage?.value | safe : 'resourceUrl'" height="250"
                                    width="290" scrolling="no"></iframe>

                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <div class="col" *ngIf="showScrapAcknowledgementFlag">
                <input type="text" formControlName="processingCharges" class="form-control "
                    [class.isError]="controls.processingCharges.touched && controls.processingCharges.invalid"
                    placeholder="Processing Charges" readonly>
                <mat-error *ngIf="controls.processingCharges.touched && controls.processingCharges.invalid">
                    Field Required</mat-error>
            </div>
            <div class="col" *ngIf="showScrapAcknowledgementFlag">
                <select class="form-control" formControlName="standardDeduction"
                    [class.isError]="controls.standardDeduction.touched && controls.standardDeduction.invalid">
                    <option value="" [disabled]="true" [selected]="true">Select Standard Deduction</option>
                    <option [value]="sd.standardDeduction" *ngFor="let sd of standardDeductionArr">
                        {{sd.standardDeduction}}
                    </option>
                </select>
                <mat-error *ngIf="controls.standardDeduction.touched && controls.standardDeduction.invalid">
                    <span *ngIf="controls.standardDeduction.errors?.required">Field Required</span>
                </mat-error>
            </div>
            <div class="col" *ngIf="showScrapAcknowledgementFlag">
                <select class="form-control" formControlName="customerConfirmationStatus"
                    [class.isError]="controls.customerConfirmationStatus.touched && controls.customerConfirmationStatus.invalid">
                    <option value="" [disabled]="true" [selected]="true">Select Customer confirmation Status</option>
                    <option value="confirmed">Confirmed</option>
                    <option value="incomplete">Incomplete</option>
                </select>
                <mat-error
                    *ngIf="controls.customerConfirmationStatus.touched && controls.customerConfirmationStatus.invalid">
                    <span *ngIf="controls.customerConfirmationStatus.errors?.required">Field
                        Required</span>
                </mat-error>
            </div>
            <div class="col" *ngIf="showScrapAcknowledgementFlag && showCustomerConfirmationFlag">
                <div class="row">
                    <div class="col-10 position-relative">
                        <div class="img-container width" *ngIf="!controls?.customerConfirmationImage?.value">
                            <img src="../../../../../../../assets/media/icons/image-placeholder.png"
                                class="placeholder-image">
                        </div>

                        <!-- <div class="position-relative edit-width">
                                <img src="../../../../../assets/media/icons/edit.svg" alt=""
                                    *ngIf="isEdit && controls?.customerConfirmationImage?.value"
                                    class="kt-pointer edit-icon" (click)="editImages('customerConfirmation');">
                            </div> -->

                        <div class="" *ngIf="controls?.customerConfirmationImage?.value">
                            <div class="d-inline-block img-container width kt-margin-r-15 position-relative"
                                (click)="preview(controls?.customerConfirmationImage?.value)">
                                <img class="fetched-image" [src]="controls?.customerConfirmationImage?.value"
                                    *ngIf="!pdf.customerConfirmation">
                                <img src="../../../../../assets/media/icons/edit.svg" alt=""
                                    *ngIf="isEdit && controls?.customerConfirmationImage?.value"
                                    class="kt-pointer edit-icon" (click)="editImages('customerConfirmation');">
                                <iframe *ngIf="pdf.customerConfirmation"
                                    [src]="controls?.customerConfirmationImage?.value | safe : 'resourceUrl'"
                                    height="250" width="290" scrolling="no"></iframe>
                                <!-- <kt-pdf-viewer [page]="1" [showAll]="false" *ngIf="pdf.customerConfirmation"
                                        [pdfSrc]="controls?.customerConfirmationImage.value"
                                        (click)="preview(controls?.customerConfirmationImage.value)"></kt-pdf-viewer> -->
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <div class="col-11 text-right kt-padding-t-15" *ngIf="showButton">
        <kt-button [type]="'button'" [value]="'Next'" (click)="save(buttonName)"></kt-button>
    </div>
</div>